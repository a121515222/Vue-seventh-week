(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69e77ac0"],{1039:function(e,t,c){},"107c":function(e,t,c){var n=c("d039"),a=c("da84"),o=a.RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1276:function(e,t,c){"use strict";var n=c("2ba4"),a=c("c65b"),o=c("e330"),i=c("d784"),r=c("44e7"),s=c("825a"),d=c("1d80"),l=c("4840"),u=c("8aa5"),p=c("50c4"),b=c("577e"),g=c("dc4a"),h=c("4dae"),m=c("14c3"),f=c("9263"),O=c("9f7f"),j=c("d039"),v=O.UNSUPPORTED_Y,y=4294967295,x=Math.min,E=[].push,N=o(/./.exec),k=o(E),V=o("".slice),C=!j((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var c="ab".split(e);return 2!==c.length||"a"!==c[0]||"b"!==c[1]}));i("split",(function(e,t,c){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,c){var o=b(d(this)),i=void 0===c?y:c>>>0;if(0===i)return[];if(void 0===e)return[o];if(!r(e))return a(t,o,e,i);var s,l,u,p=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,O=new RegExp(e.source,g+"g");while(s=a(f,O,o)){if(l=O.lastIndex,l>m&&(k(p,V(o,m,s.index)),s.length>1&&s.index<o.length&&n(E,p,h(s,1)),u=s[0].length,m=l,p.length>=i))break;O.lastIndex===s.index&&O.lastIndex++}return m===o.length?!u&&N(O,"")||k(p,""):k(p,V(o,m)),p.length>i?h(p,0,i):p}:"0".split(void 0,0).length?function(e,c){return void 0===e&&0===c?[]:a(t,this,e,c)}:t,[function(t,c){var n=d(this),i=void 0==t?void 0:g(t,e);return i?a(i,t,n,c):a(o,b(n),t,c)},function(e,n){var a=s(this),i=b(e),r=c(o,a,i,n,o!==t);if(r.done)return r.value;var d=l(a,RegExp),g=a.unicode,h=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(v?"g":"y"),f=new d(v?"^(?:"+a.source+")":a,h),O=void 0===n?y:n>>>0;if(0===O)return[];if(0===i.length)return null===m(f,i)?[i]:[];var j=0,E=0,N=[];while(E<i.length){f.lastIndex=v?0:E;var C,w=m(f,v?V(i,E):i);if(null===w||(C=x(p(f.lastIndex+(v?E:0)),i.length))===j)E=u(i,E,g);else{if(k(N,V(i,j,E)),N.length===O)return N;for(var I=1;I<=w.length-1;I++)if(k(N,w[I]),N.length===O)return N;E=j=C}}return k(N,V(i,j)),N}]}),!C,v)},"14c3":function(e,t,c){var n=c("da84"),a=c("c65b"),o=c("825a"),i=c("1626"),r=c("c6b6"),s=c("9263"),d=n.TypeError;e.exports=function(e,t){var c=e.exec;if(i(c)){var n=a(c,e,t);return null!==n&&o(n),n}if("RegExp"===r(e))return a(s,e,t);throw d("RegExp#exec called on incompatible receiver")}},"2ac0":function(e,t,c){"use strict";c("99af");var n=c("bc3a"),a=c.n(n),o=c("be92"),i=c("674f"),r=Object(i["a"])();t["a"]=Object(o["b"])("cartStore",{state:function(){return{cartData:[],cartLength:0,isCartLoading:!1,isChangeNum:!1}},actions:{getCart:function(){var e=this;a.a.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chun-chia","/cart")).then((function(t){e.cartData=t.data.data,e.cartLength=t.data.data.carts.length}))["catch"]((function(e){console.dir(e.response.data.message)}))},deleteAllCarts:function(){var e=this;!0===confirm("確定將會刪除所有購物車內容?")?a.a["delete"]("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chun-chia","/carts")).then((function(t){e.getCart(),r.addMessage({title:"刪除所有購物車結果",style:"success",content:t.data.message})}))["catch"]((function(e){r.addMessage({title:"刪除所有購物車結果",style:"success",content:e.response.data.message})})):alert("已取消刪除")},deleteCart:function(e,t){var c=this;this.isCartLoading=!0,a.a["delete"]("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chun-chia","/cart/").concat(e)).then((function(e){c.getCart(),r.addMessage({title:"刪除購物車結果",style:"success",content:t+e.data.message}),c.isCartLoading=!1}))["catch"]((function(e){console.dir(e.response.data.message),r.addMessage({title:"刪除購物車結果",style:"danger",content:e.response.data.message})}))},editCart:function(e,t){var c=this;a.a.put("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chun-chia","/cart/").concat(e),t).then((function(e){c.isChangeNum=!1,c.isCartLoading=!1,c.getCart(),r.addMessage({title:"編輯購物車結果",style:"success",content:e.data.message})}))["catch"]((function(e){console.dir(e.response.data.message),r.addMessage({title:"編輯購物車結果",style:"danger",content:e.response.data.message})}))},isCartLoadingTrue:function(){this.isCartLoading=!0},isChangeNumTrue:function(){this.isChangeNum=!0}}})},"2c4d":function(e,t,c){"use strict";c("c975"),c("a4d3"),c("e01a");var n=c("7a23"),a={class:"row pt-3"},o=["onClick"],i={key:0,class:"card px-0 position-relative cardHover"},r=["src","alt"],s={key:0,class:"position-absolute top-0 end-0 bg-secondary text-primary p-1"},d={class:"position-absolute top-33 end-0 bg-third d-flex justify-content-center align-items-center",style:{"border-radius":"5px",height:"33px",width:"33px"}},l=["onClick"],u=Object(n["createElementVNode"])("i",{class:"bi bi-suit-heart"},null,-1),p=[u],b=["onClick"],g=Object(n["createElementVNode"])("i",{class:"bi bi-suit-heart-fill"},null,-1),h=[g],m={class:"card-body pb-0 border-top"},f={class:"fa-3 fw-bold"},O=["innerHTML"],j={class:"card-footer bg-transparent border-top-0 pb-2"},v={key:0},y={key:1},x={class:"text-decoration-line-through text-middle"},E={class:"text-danger"},N=["onClick","disabled"],k={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},V=Object(n["createTextVNode"])(" 快速商品資訊 "),C={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},w=Object(n["createTextVNode"])("商品詳細資訊 "),I=["onClick","disabled"],S={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},P=Object(n["createTextVNode"])(" 加到購物車 "),B={key:1,class:"mx-auto"};function D(e,t,c,u,g,D){var L=Object(n["resolveComponent"])("RouterLink");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[e.guestShowProduct.length>0?(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],{key:0},Object(n["renderList"])(e.guestShowProduct,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t.id,class:"col-12 col-sm-6 col-lg-4 col-xl-3 mb-3"},[Object(n["createElementVNode"])("a",{class:"text-black",href:"#",style:{"text-decoration":"none"},onClick:Object(n["withModifiers"])((function(c){D.inspectId(t.id),e.$router.push("/product/".concat(t.id))}),["prevent"])},[(t.is_enabled,Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[Object(n["createElementVNode"])("img",{class:"img-fluid card-img-top",style:{"max-height":"200px","min-height":"200px"},src:t.imageUrl,alt:t.title},null,8,r),4===t.is_enabled?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",s," 促銷中 ")):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",d,[-1===g.favorites.indexOf(t.id)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{key:0,class:"text-danger fs-4",title:"加入我的最愛",href:"#",onClick:Object(n["withModifiers"])((function(e){return D.addFavorites(t.id,t.title)}),["stop","prevent"])},p,8,l)):g.favorites.indexOf(t.id)>-1?(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{key:1,class:"text-danger fs-4",title:"移除我的最愛",href:"#",onClick:Object(n["withModifiers"])((function(e){return D.deleteFavorites(t.id,t.title)}),["stop","prevent"])},h,8,b)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",m,[Object(n["createElementVNode"])("h3",f,Object(n["toDisplayString"])(t.title),1),Object(n["createElementVNode"])("div",{innerHTML:t.description,class:"lineClamp"},null,8,O)]),Object(n["createElementVNode"])("div",j,[t.origin_price===t.price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",v,[Object(n["createElementVNode"])("span",null,"售價"+Object(n["toDisplayString"])(t.origin_price)+"元",1),Object(n["createElementVNode"])("span",null,"/"+Object(n["toDisplayString"])(t.unit),1)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",y,[Object(n["createElementVNode"])("span",x,"原價"+Object(n["toDisplayString"])(t.origin_price),1),Object(n["createElementVNode"])("span",E,"特價"+Object(n["toDisplayString"])(t.price)+"元",1),Object(n["createElementVNode"])("span",null,"/"+Object(n["toDisplayString"])(t.unit),1)])),Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["btn btn-outline-secondary text-primary w-100 mb-1",{buttonDisabledCursor:t.id===c.isGuestPageLoading}]),type:"button",onClick:Object(n["withModifiers"])((function(e){return D.guestProductDetail(t.id)}),["stop","prevent"]),disabled:t.id===c.isGuestPageLoading},[Object(n["withDirectives"])(Object(n["createElementVNode"])("span",k,null,512),[[n["vShow"],t.id===c.isGuestPageLoading]]),V],10,N),Object(n["createVNode"])(L,{class:Object(n["normalizeClass"])(["btn btn-outline-secondary text-primary w-100 mb-1",{buttonDisabledCursor:t.id===c.isGuestPageLoading}]),to:"/product/".concat(t.id),onClick:function(e){D.inspectId(t.id)},disabled:t.id===c.isGuestPageLoading},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("span",C,null,512),[[n["vShow"],t.id===c.isGuestPageLoading]]),w]})),_:2},1032,["to","onClick","disabled","class"]),Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["btn btn-primary w-100 text-secondary",{buttonDisabledCursor:t.id===c.isGuestPageLoading}]),type:"button",onClick:Object(n["withModifiers"])((function(e){return D.guestAddCart(t.id,t.title)}),["stop","prevent"]),disabled:t.id===c.isGuestPageLoading},[Object(n["withDirectives"])(Object(n["createElementVNode"])("span",S,null,512),[[n["vShow"],t.id===c.isGuestPageLoading]]),P],10,I)])]))],8,o)])})),128)):0===e.guestShowProduct.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("h2",B,"搜尋不到東西")):Object(n["createCommentVNode"])("",!0)])}var L=c("5530"),M=(c("e9c4"),c("a434"),c("be92")),q=c("c106"),R=c("674f"),_=c("2ac0"),T={props:["isGuestPageLoading"],emits:["sendId","addCart","inspectId"],data:function(){return{favorites:JSON.parse(localStorage.getItem("myFavoritesItem"))||[]}},computed:Object(L["a"])({},Object(M["d"])(q["a"],["guestShowProduct"])),methods:Object(L["a"])(Object(L["a"])(Object(L["a"])({},Object(M["c"])(R["a"],["addMessage"])),Object(M["c"])(_["a"],["getCart"])),{},{inspectId:function(e){this.$emit("inspectId",e)},addFavorites:function(e,t){this.favorites.push(e),localStorage.setItem("myFavoritesItem",JSON.stringify(this.favorites)),this.addMessage({title:"加入最愛結果",style:"success",content:"".concat(t,"已加入最愛")})},deleteFavorites:function(e,t){var c=this.favorites.indexOf(e);this.favorites.splice(c,1),localStorage.setItem("myFavoritesItem",JSON.stringify(this.favorites)),this.addMessage({title:"移除最愛結果",style:"success",content:"".concat(t,"已移除最愛")})},guestProductDetail:function(e){this.$emit("sendId",e)},guestAddCart:function(e,t){this.$emit("addCart",e,t),this.getCart()}})},$=c("d959"),G=c.n($);const A=G()(T,[["render",D]]);t["a"]=A},"349d":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var n=c("7a23"),a={class:"container pt-10"},o={class:"row card flex-md-row mx-0"},i={class:"col-12 col-lg-6 ps-0"},r={key:0,class:"img-fluid",style:{height:"360px",overflow:"hidden"}},s=["src","alt"],d={key:1,class:"img-fluid",style:{height:"360px",overflow:"hidden"}},l=["src","alt"],u={class:"col-12 col-lg-6 d-flex flex-column justify-content-between pe-0 mt-3"},p={class:"from-group pe-2"},b={class:"fw-bold fs-2"},g=["innerHTML"],h={class:"from-group"},m={key:0,class:"d-flex justify-content-end gap-2 pe-2"},f={key:1,class:"d-flex justify-content-end gap-2 pe-2"},O={class:"text-decoration-line-through text-middle"},j={class:"text-danger"},v={class:"d-flex justify-content-end gap-3"},y=["disabled"],x=Object(n["createElementVNode"])("i",{class:"bi bi-dash"},null,-1),E=[x],N={class:"align-self-center px-1",style:{"min-width":"20px"}},k=["disabled"],V=Object(n["createElementVNode"])("i",{class:"bi bi-plus"},null,-1),C=[V],w=["disabled"],I={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},S=Object(n["createTextVNode"])(" 加入購物車 "),P={class:"row"},B={key:0,class:"col-12 py-3"},D=Object(n["createElementVNode"])("h3",{class:"fa-2 fw-bold"},"產品圖片",-1),L={class:"d-flex flex-row gap-3 customScrollBar",style:{"overflow-x":"scroll"}},M=["onClick"],q=["src","alt"],R={key:1,class:"col-12 my-3"},_=Object(n["createElementVNode"])("h3",{class:"fw-bold fa-2"},"推薦產品",-1);function T(e,t,c,x,V,T){var $=Object(n["resolveComponent"])("VueLoading"),G=Object(n["resolveComponent"])("ProductsShow"),A=Object(n["resolveComponent"])("GuestProductModal");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",a,[Object(n["createVNode"])($,{active:V.isLoadingPage,"z-index":1060},null,8,["active"]),Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",i,[V.images.length>2?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("img",{style:{"object-fit":"cover",width:"100%",height:"100%"},src:V.images[V.pictureIndex],alt:"".concat(V.product.title," picture")},null,8,s)])):V.images.length<=2?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",d,[Object(n["createElementVNode"])("img",{style:{"object-fit":"cover",width:"100%",height:"100%"},src:V.product.imageUrl,alt:"".concat(V.product.title," picture")},null,8,l)])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("h2",b,Object(n["toDisplayString"])(V.product.title),1),Object(n["createElementVNode"])("div",{class:"fs-4",innerHTML:V.product.description},null,8,g)]),Object(n["createElementVNode"])("div",h,[V.product.origin_price===V.product.price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",m,[Object(n["createElementVNode"])("span",null,"售價"+Object(n["toDisplayString"])(V.product.origin_price)+"元",1),Object(n["createElementVNode"])("span",null,"/"+Object(n["toDisplayString"])(V.product.unit),1)])):V.product.origin_price>V.product.price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",f,[Object(n["createElementVNode"])("span",O,"原價"+Object(n["toDisplayString"])(V.product.origin_price),1),Object(n["createElementVNode"])("span",j,"特價"+Object(n["toDisplayString"])(V.product.price)+"元",1),Object(n["createElementVNode"])("span",null,"/"+Object(n["toDisplayString"])(V.product.unit),1)])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("button",{type:"button",class:Object(n["normalizeClass"])(["btn btn-primary text-secondary text-nowrap",{buttonDisabledCursor:V.qty<2}]),onClick:t[0]||(t[0]=function(e){return V.qty-=1}),disabled:V.qty<2},E,10,y),Object(n["createElementVNode"])("span",N,Object(n["toDisplayString"])(V.qty),1),Object(n["createElementVNode"])("button",{type:"button",class:Object(n["normalizeClass"])(["btn btn-primary text-secondary text-nowrap",{buttonDisabledCursor:100===V.qty}]),onClick:t[1]||(t[1]=function(e){return V.qty+=1}),disabled:100===V.qty},C,10,k),Object(n["createElementVNode"])("button",{type:"button",class:Object(n["normalizeClass"])(["btn btn-primary text-secondary text-nowrap",{buttonDisabledCursor:V.isLoading||V.qty<1}]),onClick:t[2]||(t[2]=function(e){return T.addCart(V.product.id,V.product.title)}),disabled:V.isLoading||V.qty<1},[Object(n["withDirectives"])(Object(n["createElementVNode"])("span",I,null,512),[[n["vShow"],V.isLoading]]),S],10,w)])])])]),Object(n["createElementVNode"])("div",P,[V.images.length>2?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",B,[D,Object(n["createElementVNode"])("div",L,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(V.images,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"pictureSize",key:e+t},[Object(n["createElementVNode"])("a",{href:"#",onClick:Object(n["withModifiers"])((function(e){return T.changePicture(t)}),["prevent"])},[Object(n["createElementVNode"])("img",{style:{height:"100%",width:"100%","object-fit":"cover"},src:e,alt:V.product.title+"picture"+t},null,8,q)],8,M)])})),128))])])):Object(n["createCommentVNode"])("",!0),V.filterProducts.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",R,[_,Object(n["createVNode"])(G,{"guest-show-product":V.filterProducts,"is-guest-page-loading":V.isLoadingPage,onSendId:T.guestProductDetail,onInspectId:T.inspectRouteId,onAddCart:T.guestAddCart},null,8,["guest-show-product","is-guest-page-loading","onSendId","onInspectId","onAddCart"])])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])(A,{ref:"guestModal",onSendId:T.getId},null,8,["onSendId"])],64)}var $=c("2909"),G=c("5530"),A=(c("99af"),c("4160"),c("d3b7"),c("159b"),c("c975"),c("6062"),c("3ca3"),c("ddb0"),c("2c4d")),z=c("4449"),H=c("be92"),F=c("674f"),U={data:function(){return{product:[],filterProducts:[],guestProduct:[],qty:1,isLoading:!1,isLoadingPage:!1,images:[],pictureIndex:0,keyWord:[],pathId:""}},components:{ProductsShow:A["a"],GuestProductModal:z["a"]},watch:{pathId:function(e,t){e!==t&&this.getProduct()}},methods:Object(G["a"])(Object(G["a"])({},Object(H["c"])(F["a"],["addMessage"])),{},{inspectRouteId:function(e){this.pathId=e},getGuestProduct:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chun-chia","/products/all")).then((function(t){e.guestProduct=t.data.products,e.filterProduct()}))["catch"]((function(e){console.dir(e.response.data.message)}))},filterProduct:function(){var e=this,t=this.keyWord;this.filterProducts=[],t.forEach((function(t){e.guestProduct.forEach((function(c){-1===c.category.indexOf(t)&&-1===c.content.indexOf(t)&&-1===c.description.indexOf(t)&&-1===c.title.indexOf(t)||(e.filterProducts.push(c),e.filterProducts=Object($["a"])(new Set(e.filterProducts)))}))}))},getId:function(e){this.isGuestPageLoading=e},guestAddCart:function(e,t){this.$refs.guestModal.addCart(e,t)},guestProductDetail:function(e){this.$refs.guestModal.guestModalOpen(e)},changePicture:function(e){this.pictureIndex=e},addCart:function(e,t){var c=this,n={data:{product_id:"",qty:1}};n.data.product_id=e,n.data.qty=this.qty,this.$emit("sendId",e),this.isLoading=!0,this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chun-chia","/cart"),n).then((function(e){c.$emit("sendId",""),c.isLoading=!1,c.qty=1,c.addMessage({title:"".concat(t,"加入購物車結果"),style:"success",content:t+e.data.message})}))["catch"]((function(e){console.dir(e.response)}))},getProduct:function(){var e=this;this.isLoadingPage=!0;var t=this.$route.params.id;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chun-chia","/product/").concat(t)).then((function(t){e.product=t.data.product,e.isLoadingPage=!1,e.pathId=e.product.id,e.images=[e.product.imageUrl].concat(Object($["a"])(e.product.imagesUrl)),e.keyWord=[e.product.title,e.product.category],document.title=e.product.title||e.$route.meta.title,e.getGuestProduct()}))["catch"]((function(e){console.dir(e.response.data.message)}))}}),mounted:function(){this.getProduct()}},J=(c("5a45"),c("d959")),K=c.n(J);const W=K()(U,[["render",T]]);t["default"]=W},4449:function(e,t,c){"use strict";c("a4d3"),c("e01a");var n=c("7a23"),a={class:"modal fade",tabindex:"-1","aria-hidden":"true",ref:"guestProductModal"},o={class:"modal-dialog modal-xl modal-dialog-scrollable"},i={class:"modal-content"},r={class:"modal-header bg-middle"},s={class:"modal-title fs-3 fw-bold"},d={class:"modal-body"},l={class:"row"},u={class:"col-12 col-sm-6 px-0 px-sm-2"},p=["src","alt"],b={class:"col-12 col-sm-6 d-flex flex-column justify-content-between"},g={class:"from-group"},h={class:"d-flex my-2"},m={class:"mb-0"},f={class:"badge bg-primary ms-1"},O=["innerHTML"],j={class:"from-group align-self-end"},v={key:0,class:"d-flex gap-2"},y={key:1,class:"d-flex"},x={class:"text-decoration-line-through text-middle"},E={class:"text-danger"},N={class:"modal-footer gap-1 gap-sm-3 bg-middle"},k=["disabled"],V=Object(n["createElementVNode"])("i",{class:"bi bi-dash"},null,-1),C=[V],w={style:{"min-width":"20px"}},I=["disabled"],S=Object(n["createElementVNode"])("i",{class:"bi bi-plus"},null,-1),P=[S],B=["disabled"],D={class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},L=Object(n["createTextVNode"])(" 加入購物車 ");function M(e,t,c,V,S,M){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("h5",s,Object(n["toDisplayString"])(S.product.title),1)]),Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("img",{class:"img-fluid guestModalImg px-0 px-sm-2",style:{width:"100%","object-fit":"cover","object-position":"center center"},src:S.product.imageUrl,alt:"".concat(S.product.title,"照片")},null,8,p)]),Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",g,[Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("p",m,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(S.product.title),1),Object(n["createElementVNode"])("span",f,Object(n["toDisplayString"])(S.product.category),1)])]),Object(n["createElementVNode"])("div",{innerHTML:S.product.description},null,8,O),Object(n["createElementVNode"])("p",null,"商品內容:"+Object(n["toDisplayString"])(S.product.content),1)]),Object(n["createElementVNode"])("div",j,[S.product.origin_price===S.product.price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",v,[Object(n["createElementVNode"])("span",null,"售價:"+Object(n["toDisplayString"])(S.product.origin_price)+"元",1),Object(n["createElementVNode"])("span",null,"/"+Object(n["toDisplayString"])(S.product.unit),1)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",y,[Object(n["createElementVNode"])("span",x,"原價"+Object(n["toDisplayString"])(S.product.origin_price),1),Object(n["createElementVNode"])("span",E,"特價"+Object(n["toDisplayString"])(S.product.price)+"元",1),Object(n["createElementVNode"])("span",null,"/"+Object(n["toDisplayString"])(S.product.unit),1)]))])])])]),Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["btn btn-primary btnHover",{buttonDisabledCursor:S.qty<2}]),type:"button",onClick:t[0]||(t[0]=function(e){return S.qty-=1}),disabled:S.qty<2},C,10,k),Object(n["createElementVNode"])("span",w,Object(n["toDisplayString"])(S.qty),1),Object(n["createElementVNode"])("button",{type:"button",class:Object(n["normalizeClass"])(["btn btn-primary btnHover",{buttonDisabledCursor:100===S.qty}]),onClick:t[1]||(t[1]=function(e){return S.qty+=1}),disabled:100===S.qty},P,10,I),Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["btn btn-secondary btnHover",{buttonDisabledCursor:S.product.id===S.isLoading||S.qty<1}]),type:"button",onClick:t[2]||(t[2]=function(e){return M.addCart(S.product.id,S.product.title)}),disabled:S.product.id===S.isLoading||S.qty<1},[Object(n["withDirectives"])(Object(n["createElementVNode"])("span",D,null,512),[[n["vShow"],S.product.id===S.isLoading]]),L],10,B),Object(n["createElementVNode"])("button",{class:"d-none-366px btn btn-third btnHover",type:"button",onClick:t[3]||(t[3]=function(e){return M.guestModalClose()})}," 關閉 ")])])])],512)}var q=c("5530"),R=(c("99af"),c("7c2b")),_=c.n(R),T=c("be92"),$=c("674f"),G={data:function(){return{bsModal:"",product:{},qty:1,isLoading:""}},emits:["sendId","getCart"],methods:Object(q["a"])(Object(q["a"])({},Object(T["c"])($["a"],["addMessage"])),{},{guestModalOpen:function(e){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chun-chia","/product/").concat(e)).then((function(e){t.product=e.data.product,t.bsModal.show()}))["catch"]((function(e){console.dir(e.response.data.message)}))},guestModalClose:function(){this.bsModal.hide()},addCart:function(e,t){var c=this,n={data:{product_id:"",qty:1}};n.data.product_id=e,n.data.qty=this.qty,this.$emit("sendId",e),this.isLoading=e,this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("chun-chia","/cart"),n).then((function(e){c.$emit("sendId",""),c.isLoading="",c.qty=1,c.addMessage({title:"".concat(t,"加入購物車結果"),style:"success",content:t+e.data.message})}))["catch"]((function(e){console.dir(e.response.data.message)}))}}),mounted:function(){this.bsModal=new _.a(this.$refs.guestProductModal)}},A=(c("6ef3"),c("d959")),z=c.n(A);const H=z()(G,[["render",M]]);t["a"]=H},"44e7":function(e,t,c){var n=c("861d"),a=c("c6b6"),o=c("b622"),i=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},"5a45":function(e,t,c){"use strict";c("1039")},"6ef3":function(e,t,c){"use strict";c("8a4f")},"8a4f":function(e,t,c){},"8aa5":function(e,t,c){"use strict";var n=c("6547").charAt;e.exports=function(e,t,c){return t+(c?n(e,t).length:1)}},9263:function(e,t,c){"use strict";var n=c("c65b"),a=c("e330"),o=c("577e"),i=c("ad6d"),r=c("9f7f"),s=c("5692"),d=c("7c73"),l=c("69f3").get,u=c("fce3"),p=c("107c"),b=s("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,h=g,m=a("".charAt),f=a("".indexOf),O=a("".replace),j=a("".slice),v=function(){var e=/a/,t=/b*/g;return n(g,e,"a"),n(g,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),y=r.BROKEN_CARET,x=void 0!==/()??/.exec("")[1],E=v||x||y||u||p;E&&(h=function(e){var t,c,a,r,s,u,p,E=this,N=l(E),k=o(e),V=N.raw;if(V)return V.lastIndex=E.lastIndex,t=n(h,V,k),E.lastIndex=V.lastIndex,t;var C=N.groups,w=y&&E.sticky,I=n(i,E),S=E.source,P=0,B=k;if(w&&(I=O(I,"y",""),-1===f(I,"g")&&(I+="g"),B=j(k,E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==m(k,E.lastIndex-1))&&(S="(?: "+S+")",B=" "+B,P++),c=new RegExp("^(?:"+S+")",I)),x&&(c=new RegExp("^"+S+"$(?!\\s)",I)),v&&(a=E.lastIndex),r=n(g,w?c:E,B),w?r?(r.input=j(r.input,P),r[0]=j(r[0],P),r.index=E.lastIndex,E.lastIndex+=r[0].length):E.lastIndex=0:v&&r&&(E.lastIndex=E.global?r.index+r[0].length:a),x&&r&&r.length>1&&n(b,r[0],c,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r&&C)for(r.groups=u=d(null),s=0;s<C.length;s++)p=C[s],u[p[0]]=r[p[1]];return r}),e.exports=h},"99af":function(e,t,c){"use strict";var n=c("23e7"),a=c("da84"),o=c("d039"),i=c("e8b5"),r=c("861d"),s=c("7b0b"),d=c("07fa"),l=c("8418"),u=c("65f0"),p=c("1dde"),b=c("b622"),g=c("2d00"),h=b("isConcatSpreadable"),m=9007199254740991,f="Maximum allowed index exceeded",O=a.TypeError,j=g>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),v=p("concat"),y=function(e){if(!r(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)},x=!j||!v;n({target:"Array",proto:!0,forced:x},{concat:function(e){var t,c,n,a,o,i=s(this),r=u(i,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?i:arguments[t],y(o)){if(a=d(o),p+a>m)throw O(f);for(c=0;c<a;c++,p++)c in o&&l(r,p,o[c])}else{if(p>=m)throw O(f);l(r,p++,o)}return r.length=p,r}})},"9f7f":function(e,t,c){var n=c("d039"),a=c("da84"),o=a.RegExp,i=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),r=i||n((function(){return!o("a","y").sticky})),s=i||n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:r,UNSUPPORTED_Y:i}},ac1f:function(e,t,c){"use strict";var n=c("23e7"),a=c("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,c){"use strict";var n=c("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},d784:function(e,t,c){"use strict";c("ac1f");var n=c("e330"),a=c("6eeb"),o=c("9263"),i=c("d039"),r=c("b622"),s=c("9112"),d=r("species"),l=RegExp.prototype;e.exports=function(e,t,c,u){var p=r(e),b=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=b&&!i((function(){var t=!1,c=/a/;return"split"===e&&(c={},c.constructor={},c.constructor[d]=function(){return c},c.flags="",c[p]=/./[p]),c.exec=function(){return t=!0,null},c[p](""),!t}));if(!b||!g||c){var h=n(/./[p]),m=t(p,""[e],(function(e,t,c,a,i){var r=n(e),s=t.exec;return s===o||s===l.exec?b&&!i?{done:!0,value:h(t,c,a)}:{done:!0,value:r(c,t,a)}:{done:!1}}));a(String.prototype,e,m[0]),a(l,p,m[1])}u&&s(l[p],"sham",!0)}},fce3:function(e,t,c){var n=c("d039"),a=c("da84"),o=a.RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-69e77ac0.3a2e086c.js.map